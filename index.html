<!DOCTYPE html>
<html>
<head>
    <title>Etch-a-sketch</title>
    <style>
        * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    background-color: rgb(219, 219, 219);
    overflow: hidden;
}

.container {
    background-color: white;
    margin: 30px;
    width: 600px;
    height: 600px;
    box-shadow: black 10px 10px;
    display:flex;
    flex-wrap: wrap;
}

.container > div {
    content: '';
    background-color: white;
    margin: 0;
    
}


.settings {
    display:flex;
    flex-direction: row;
    justify-content: space-between;
    padding-bottom: 30px;
    padding-right: 50px;

}

.clear {
    width: 80px;
    height: 40px;
}

.color {
    width: 100px;
}

.rainbow {
    content: '';
    width: 50px;
    height: 50px;
}
    </style>
</head>

<body>
    <div class="container"></div>
    <div class="footer">
        <div class="settings">
            <div class="color-picker">
                <input type="color" class="color"><label>Select color</label>
            </div>
            <div class="size">
                <input type="range" min="30" max="100" class="range">
                <label>Canvas size</label>
            </div>
            <div class="clear-btn">
                <button class="clear">Clear</button>
            </div>
            <svg version="1.1" class="rainbow" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
            viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve">
       <path style="fill:#E64C3C;" d="M4.645,45.577c-0.017-0.383-0.029-0.767-0.029-1.154c0-13.997,11.387-25.385,25.385-25.385
           s25.385,11.387,25.385,25.385c0,0.387-0.012,0.771-0.029,1.154h4.616C59.985,45.193,60,44.81,60,44.423c0-16.569-13.431-30-30-30
           s-30,13.431-30,30c0,0.387,0.015,0.77,0.029,1.154H4.645z"/>
       <path style="fill:#F0C419;" d="M9.289,45.577c-0.021-0.384-0.058-0.764-0.058-1.154c0-11.452,9.317-20.769,20.769-20.769
           s20.769,9.318,20.769,20.769c0,0.389-0.037,0.77-0.058,1.154h4.645c0.017-0.383,0.029-0.767,0.029-1.154
           c0-13.997-11.387-25.385-25.385-25.385S4.615,30.426,4.615,44.423c0,0.387,0.012,0.771,0.029,1.154H9.289z"/>
       <path style="fill:#71C285;" d="M13.905,45.577c-0.027-0.383-0.058-0.764-0.058-1.154c0-8.907,7.246-16.154,16.154-16.154
           s16.154,7.246,16.154,16.154c0,0.389-0.031,0.771-0.058,1.154h4.615c0.021-0.384,0.058-0.764,0.058-1.154
           c0-11.452-9.317-20.769-20.769-20.769S9.231,32.971,9.231,44.423c0,0.389,0.037,0.77,0.058,1.154H13.905z"/>
       <path style="fill:#0096E6;" d="M18.52,45.577c-0.038-0.38-0.058-0.764-0.058-1.154c0-6.362,5.176-11.538,11.538-11.538
           s11.538,5.177,11.538,11.538c0,0.389-0.021,0.774-0.058,1.154h4.615c0.027-0.383,0.058-0.764,0.058-1.154
           c0-8.907-7.246-16.154-16.154-16.154s-16.154,7.246-16.154,16.154c0,0.389,0.031,0.771,0.058,1.154H18.52z"/>
       <path style="fill:#546A79;" d="M23.181,45.577c-0.064-0.376-0.104-0.76-0.104-1.154c0-3.818,3.105-6.923,6.923-6.923
           s6.923,3.105,6.923,6.923c0,0.394-0.041,0.778-0.104,1.154h4.661c0.038-0.38,0.058-0.764,0.058-1.154
           c0-6.362-5.176-11.538-11.538-11.538s-11.538,5.177-11.538,11.538c0,0.389,0.021,0.774,0.058,1.154H23.181z"/>
       <g>
       </g>
       <g>
       </g>
       <g>
       </g>
       <g>
       </g>
       <g>
       </g>
       <g>
       </g>
       <g>
       </g>
       <g>
       </g>
       <g>
       </g>
       <g>
       </g>
       <g>
       </g>
       <g>
       </g>
       <g>
       </g>
       <g>
       </g>
       <g>
       </g>
            </svg>
        </div>
    </div>

<script>
    const container = document.querySelector('.container');

let height = container.offsetHeight;
let width = container.offsetWidth;

let div = document.createElement('div');
const colorPicker = document.querySelector('.color');
let color = 'red';
colorPicker.addEventListener('input',() => {
    color = colorPicker.value;
    
})

// first document onload event
document.addEventListener('load',onload());
function onload(){ 
    for (let i = 0; i < 10000; i++){
     addDivs(65);
    };
    divs = Array.from(document.getElementsByClassName('div'));
    divs.forEach((each)=> {
        each.addEventListener('mouseover',() => {
            each.style.backgroundColor =  color;
        })});
}

function addDivs(n){ //general add div
        div = document.createElement('div');
        div.style.height = height / n + "px";
        div.style.width = width / n + 'px';
        div.className = "div";
        div.innerText = '';
        container.appendChild(div);
}

const size = document.querySelector('.range');
const clear = document.querySelector('.clear');
const rainbow = document.querySelector('.rainbow');

// Filling container function
const fillContainer = () => {
    container.innerHTML = '';
    for (let i = 0; i < size.value * size.value; i++){
        addDivs(size.value);
    }
    divs = Array.from(document.getElementsByClassName('div'));
    divs.forEach((each)=> {
        each.addEventListener('mouseover',() => {
            each.style.backgroundColor =  color;
        })});
}

// clear button and size change refresh
clear.addEventListener('click',() => {fillContainer()});
size.addEventListener('input',()=>{fillContainer()});
let random = () => {return Math.floor(Math.random() * 255)};
rainbow.addEventListener('click',() => {
    divs = Array.from(document.getElementsByClassName('div'));
    divs.forEach((each)=> {
        each.addEventListener('mouseover',() => {
            color = "rgb(" + random() + "," + random() + "," + random() + ")";
            each.style.backgroundColor =  color;
        })});
})



function paintingDivs(){
    divs = Array.from(document.getElementsByClassName('div'));
    divs.forEach((each)=> {
        each.addEventListener('mouseover',() => {
            each.style.backgroundColor =  color;
    })});
}


</script>
</body>
</html>